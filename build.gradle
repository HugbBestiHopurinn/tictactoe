apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'jacoco'

version = '0.0.1'
sourceCompatibility = 1.8
targetCompatibility = 1.8

mainClassName = "is.ru.tictactoe.TicTacToeWeb"

repositories {
    mavenCentral()
    jcenter()
}

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.5'

    testCompile 'junit:junit:4.11'

    compile 'net.joningi:icndb-java-api:1.0'
    compile 'com.sparkjava:spark-core:2.5'

    compile 'com.sparkjava:spark-core:2.5'
    compile group: 'org.json', name: 'json', version: '20141113'
}

jacocoTestReport {
    reports {
        xml.enabled = true
        html.enabled = true
    }
}

task stage {
  dependsOn installDist
}

check.dependsOn jacocoTestReport
